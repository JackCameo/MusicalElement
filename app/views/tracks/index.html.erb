
<h1>Tracks in my Library</h1>

<table>
  <tr>
    <th>Track #</th>
    <th>Album Artist</th>
    <th>Title</th>
    <th>Featured Artist</th>
    <th>Album</th>
    <th>Year</th>
    <th>Genre</th>
    <th>Length</th>
    <th>Size</th>
    <th>BPM</th>
    
  </tr>

<% @tracks.each do |track| %>
  <tr>
    <td><%= track.track_number %></td>
    <td><%= track.album.artist.name %></td>
    <td><%= track.title %></td>
    <td><%= track.artists.map{ |a| [a][0].name }.join(", ") %></td>
    <td><%= track.album.name %></td>
    <td><%= track.year %></td>
    <td><%= track.genre.name %></td>
    <td><%= track.length %></td>
    <td><%= track.size %></td>
    <td><%= track.bpm %></td>
    <td> Sound: <%= rating_for track, "sound" %></td>
    <td><%#= track.tpath %></td>
    <td><%#= link_to 'Show', library_track_path, {:url => library_track_path(@library.id)} %></td>
    <td><%#= link_to 'Edit', edit_library_track_path(track) %></td>
    <td><%#= link_to 'Destroy', track, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    <td><%= link_to 'Destroy', library_track_path(@library, track), :method => 'delete', data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'Upload Music', new_library_track_path(@library.id) %> |
<%= link_to 'Back', library_path(current_user.library) %>  |




